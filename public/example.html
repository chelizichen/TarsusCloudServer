<html>

<head>
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.css">
</head>

<body>
    <header>
        <style>
            ul {
                list-style-type: none;
            }

            li {
                margin: 8px 0;
            }

            .lay {
                display: flex;
                align-items: flex-start;
                justify-content: space-between;
            }
        </style>
        <script>
            function join(...args) {
                return args
                    .filter(arg => typeof arg === 'string' && arg.length > 0)
                    .join('/')
                    .replace(/\/+/g, '/');
            }
            function toRel(rel_path, type) {
                let s = join(location.pathname, rel_path);
                if (type == "folder") {
                    window.location.href = s;
                } else {
                    console.log(s)
                    fetch(s).then(res => res.json()).then(res => {
                        const content = document.getElementById("file-content")
                        content.innerText = res.content
                    })
                }
            }
        </script>
        <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap.min.css" rel="stylesheet">

    </header>

    <div class="lay">
        <div>

            <ul>

                <li>
                    <div onclick="toRel('api','folder')" style="cursor: pointer">📁 api</div>

                    <ul>

                        <li>
                            <div onclick="toRel('api/pong.js','file')" style="cursor: pointer">📄 pong.js</div>

                        </li>

                        <li>
                            <div onclick="toRel('api/test','folder')" style="cursor: pointer">📁 test</div>

                            <ul>

                                <li>
                                    <div onclick="toRel('api/test/pong.js','file')" style="cursor: pointer">📄 pong.js
                                    </div>

                                </li>

                            </ul>

                        </li>

                    </ul>

                </li>

                <li>
                    <div onclick="toRel('ping.js','file')" style="cursor: pointer">📄 ping.js</div>

                </li>

                <li>
                    <div onclick="toRel('test.js','file')" style="cursor: pointer">📄 test.js</div>

                </li>

                <li>
                    <div onclick="toRel('test1.js','file')" style="cursor: pointer">📄 test1.js</div>

                </li>

            </ul>

        </div>
        <div>
            <pre class="prettyprint lang-typescript prettyprinted" style="padding: 10px;"><span class="pln">                        </span><code id="file-content">"use strict";<br>Object.defineProperty(exports, "__esModule", { value: true });<br>var opts = {<br>    schema: {<br>        response: {<br>            200: {<br>                type: 'object',<br>                properties: {<br>                    pong: {<br>                        type: 'string'<br>                    }<br>                }<br>            }<br>        },<br>        querystring: {}<br>    }<br>};<br>var handleFunc = function (request, reply) {<br>    return { pong: '12it worked!' };<br>};<br>function default_1() {<br>    return [opts, handleFunc];<br>}<br>exports.default = default_1;<br></code><span class="pln">
          </span></pre>
        </div>
        <div>
            <form ref="uploadForm" id="uploadForm" action="/$upload" method="post" enctype="multipart/form-data">
                <input type="file" name="sampleFile" required=""><br><br>
                <input type="submit" value="Upload!">
            </form>
        </div>
    </div>


</body>

</html>